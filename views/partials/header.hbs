<nav class="navbar shadow-sm"
     style="background:#fff;box-shadow:0 2px 6px rgba(0,0,0,0.08);
            position:fixed;top:0;left:0;right:0;z-index:1030;min-height:55px;">
  <div class="container-fluid">

    <!-- Brand Logo -->
    <a class="navbar-brand fw-bold" href="/">
      <img src="/images/logo.png" alt="Logo" style="width:200px;height:42px;">
    </a>

    <!-- Cart Count Badge (Top Navbar - Right Side) -->
    <a href="/cart" class="position-relative me-3 ms-auto d-none d-lg-block">
      <i class="bi bi-cart3" style="font-size:22px;color:#2d5a27;"></i>
      {{#if cartCount}}
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
        {{cartCount}}
      </span>
      {{/if}}
    </a>

    <!-- Toggle Button -->
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNav">
      <i class="bi bi-list" style="font-size:28px;color:#2d5a27;"></i>
    </button>

    <!-- Offcanvas -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNav" style="max-width:250px;">
      <div class="offcanvas-header p-1">
        <img src="/images/logo.png" alt="Logo" 
             style="width:200px;height:50px;border-bottom:1px solid #ddd;">
        <button type="button" class="btn-close position-absolute top-0 end-0 m-2" data-bs-dismiss="offcanvas"></button>
      </div>

      <div class="offcanvas-body p-4">
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <a class="nav-link d-flex align-items-center" href="/home" style="color:#2d5a27;">
              <i class="bi bi-house-door me-2"></i> Home
            </a>
          </li>
         
          <li class="list-group-item">
            <a class="nav-link d-flex align-items-center" href="/orders" style="color:#2d5a27;">
              <i class="bi bi-bag-check me-2"></i> My Orders
            </a>
          </li>
          <li class="list-group-item">
            <a class="nav-link d-flex align-items-center position-relative" href="/cart" style="color:#2d5a27;">
              <i class="bi bi-cart3 me-2"></i> Cart
              {{#if cartCount}}
              <span class="badge bg-danger ms-2">{{cartCount}}</span>
              {{/if}}
            </a>
          </li>
          <li class="list-group-item">
            <a class="nav-link d-flex align-items-center" href="/about" style="color:#2d5a27;">
              <i class="bi bi-info-circle me-2"></i> About
            </a>
          </li>
          <li class="list-group-item">
            <a class="nav-link d-flex align-items-center" href="/contact" style="color:#2d5a27;">
              <i class="bi bi-telephone me-2"></i> Contact
            </a>
          </li>

          <!-- User Auth Section -->
          <li class="list-group-item mt-3 border-top pt-3">
            {{#if session.user}}
              <div class="d-flex justify-content-between align-items-center">
                <span class="fw-bold" style="color:#2d5a27;">
                  ðŸ‘¤ {{session.user.name}}
                </span>
                </div>
                <div>
                                <a href="/logout" class="btn btn-sm btn-outline-danger w-100 mt-2">
                                <i class="bi bi-box-arrow-in-left me-1"></i>Logout</a>
              </div>
            {{else}}
              <a href="/login" class="btn btn-success w-100">
                <i class="bi bi-box-arrow-in-right me-1"></i> Login
              </a>
            {{/if}}
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Prevent overlap -->
<div style="height:60px;"></div>
